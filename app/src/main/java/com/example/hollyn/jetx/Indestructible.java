package com.example.hollyn.jetx;

import android.graphics.Bitmap;
import android.graphics.Canvas;

import java.util.List;

/**
 * Created by hollyn on 4/3/15.
 */
public class Indestructible {

    private int x;
    private int y;
    private GameView gameView;
    private Bitmap bmp;
    private static int width;
    private static int height;
    private int ySpeed;
    private List<Indestructible> temps;
    GameSound sound;


    /*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    * ////////////////////////////////////////////                  CONSTRUCTOR                    ///////////////////////////////////////////////////
    * ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
    public Indestructible(List<Indestructible> temps, GameView gameView, float x, float y, Bitmap bitmap, GameSound sound){
        this.gameView = gameView;
        bmp = bitmap;
        width = bitmap.getWidth();
        height = bitmap.getHeight();
        this.x = (int) x;
        this.y = (int) y;
        ySpeed = 40;
        this.temps = temps;
        this.sound = sound;
    }

/*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
* /////////////////////////////////////////////////                  Update                   ///////////////////////////////////////////////////
* ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/

    public void update(){
        if((y + height >= Avion.getY() && y <= Avion.getY() + Avion.getHeight()
                && x + width >= Avion.getX() && x <= Avion.getX() + Avion.getWidth())){
            sound.playSound("RocheExplosion");
            temps.remove(this);
            Joueur.looseLife(2);
        }
        else if(y < gameView.getHeight()) {
            y += ySpeed;
        }else
            temps.remove(this);
    }

    /*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    * /////////////////////////////////////////////////                  ON DRAW                   ///////////////////////////////////////////////////
    * ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
    public void ondraw(Canvas canvas){
        update();
        canvas.drawBitmap(bmp, x, y, null);
    }

    /*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    * /////////////////////////////////////////////////                  REMOVE                   ///////////////////////////////////////////////////
    * ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
    public void remove(){
        update();
    }


    /*/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    * /////////////////////////////////////////////                  X, Y, HEIGHT, WIDTH                 //////////////////////////////////////////////
    * ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
    public int getX(){
        return x;
    }

    public int getY(){
        return y;
    }

    public static void setX(int x){
        Roche.x = x;
    }

    public static void setY(int y){
        Roche.y = y;
    }

    public static int getHeight(){
        return height;
    }

    public static int getWidth(){
        return width;
    }

    public int getYSpeed(){
        return ySpeed;
    }

    public static void setYSpeed(int ySpeed){
        Roche.ySpeed = ySpeed;
    }

}
